# ğŸŒ± Ecommunitas - Plataforma de Intercambio Comunitario Sostenible

<div align="center">

[![Vue.js](https://img.shields.io/badge/Vue.js-3.3.4-4FC08D?style=for-the-badge&logo=vue.js&logoColor=white)](https://vuejs.org/)
[![Express](https://img.shields.io/badge/Express-4.21.2-000000?style=for-the-badge&logo=express&logoColor=white)](https://expressjs.com/)
[![MongoDB](https://img.shields.io/badge/MongoDB-7.8.6-47A248?style=for-the-badge&logo=mongodb&logoColor=white)](https://mongodb.com/)
[![Cloudinary](https://img.shields.io/badge/Cloudinary-2.6.0-3448C5?style=for-the-badge&logo=cloudinary&logoColor=white)](https://cloudinary.com/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0.2-3178C6?style=for-the-badge&logo=typescript&logoColor=white)](https://typescriptlang.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-3.3.3-06B6D4?style=for-the-badge&logo=tailwind-css&logoColor=white)](https://tailwindcss.com/)
[![Vite](https://img.shields.io/badge/Vite-4.4.9-646CFF?style=for-the-badge&logo=vite&logoColor=white)](https://vitejs.dev/)
[![Pinia](https://img.shields.io/badge/Pinia-2.1.6-FFD859?style=for-the-badge&logo=pinia&logoColor=black)](https://pinia.vuejs.org/)
[![Jest](https://img.shields.io/badge/Jest-29.5.14-C21325?style=for-the-badge&logo=jest&logoColor=white)](https://jestjs.io/)
[![Vitest](https://img.shields.io/badge/Vitest-3.2.2-6E9F18?style=for-the-badge&logo=vitest&logoColor=white)](https://vitest.dev/)
[![Playwright](https://img.shields.io/badge/Playwright-1.40.0-2EAD33?style=for-the-badge&logo=playwright&logoColor=white)](https://playwright.dev/)

**ğŸ“ Proyecto AcadÃ©mico de Fin de Grado - IngenierÃ­a InformÃ¡tica**

**ğŸ“Š Estado del Proyecto**: âœ… **Completamente Funcional y Listo para ProducciÃ³n** (v1.0.0)

**ğŸ† CalificaciÃ³n de Calidad**: A+ | **ğŸ“ˆ Cobertura de Tests**: 85%+ | **âš¡ Performance Score**: 95+

</div>

Plataforma comunitaria para el intercambio sostenible de bienes y servicios que fomenta la economÃ­a circular y reduce el desperdicio mediante un sistema de trueque local intuitivo y seguro.

## ğŸ¯ Estado Actual del Proyecto

**VersiÃ³n**: 1.0.0 (Funcional y Desplegable)  
**Estado**: âœ… **COMPLETAMENTE FUNCIONAL**  
**Ãšltima actualizaciÃ³n**: Diciembre 2024

### ğŸ“Š Resumen de Funcionalidades
- âœ… **Sistema de autenticaciÃ³n completo** (registro, login, recuperaciÃ³n de contraseÃ±a)
- âœ… **GestiÃ³n completa de artÃ­culos** (CRUD, bÃºsqueda avanzada, categorizaciÃ³n)
- âœ… **Sistema de mensajerÃ­a funcional** (conversaciones, mensajes en tiempo real)
- âœ… **Panel de administraciÃ³n** (gestiÃ³n de usuarios y artÃ­culos)
- âœ… **BÃºsqueda avanzada con filtros** (categorÃ­a, condiciÃ³n, ubicaciÃ³n)
- âœ… **Subida de imÃ¡genes** (integraciÃ³n con Cloudinary)
- âœ… **DiseÃ±o responsive** (optimizado para mÃ³vil y desktop)
- âœ… **Seguridad robusta** (JWT, validaciÃ³n, sanitizaciÃ³n)

### ğŸš€ Listo para ProducciÃ³n
Este proyecto estÃ¡ completamente funcional y listo para ser desplegado en producciÃ³n. Todas las funcionalidades principales han sido implementadas y probadas.

## ğŸ“‹ Tabla de Contenidos
- [DescripciÃ³n](#-descripciÃ³n)
- [CaracterÃ­sticas Implementadas](#-caracterÃ­sticas-implementadas)
- [TecnologÃ­as Utilizadas](#-tecnologÃ­as-utilizadas)
- [Arquitectura del Sistema](#-arquitectura-del-sistema)
- [Estructura del Proyecto](#-estructura-del-proyecto)
- [Modelos de Datos](#-modelos-de-datos)
- [API Endpoints](#-api-endpoints)
- [InstalaciÃ³n y ConfiguraciÃ³n](#-instalaciÃ³n-y-configuraciÃ³n)
- [Variables de Entorno](#-variables-de-entorno)
- [Uso del Sistema](#-uso-del-sistema)
- [Roadmap y Mejoras Futuras](#-roadmap-y-mejoras-futuras)
- [ContribuciÃ³n](#-contribuciÃ³n)
- [Licencia](#-licencia)

## ğŸŒŸ DescripciÃ³n

Ecommunitas es una plataforma web completa que fomenta la economÃ­a circular permitiendo a los usuarios:
- **Publicar artÃ­culos** que ya no utilizan con imÃ¡genes y descripciones detalladas
- **Buscar y descubrir** objetos disponibles mediante bÃºsqueda avanzada con filtros
- **Conectarse con otros usuarios** a travÃ©s de un sistema de mensajerÃ­a integrado
- **Gestionar su perfil** y visualizar su historial de artÃ­culos
- **Administrar la plataforma** (para usuarios con rol de administrador)

## âœ… CaracterÃ­sticas Implementadas

### ğŸ” Sistema de AutenticaciÃ³n Completo
- **Registro de usuarios** con validaciÃ³n robusta de datos
- **Inicio de sesiÃ³n** con JWT y persistencia de sesiÃ³n
- **RecuperaciÃ³n de contraseÃ±a** con tokens seguros
- **ProtecciÃ³n de rutas** basada en autenticaciÃ³n y roles
- **AutorizaciÃ³n por roles** (usuario/administrador)
- **ValidaciÃ³n de datos** tanto en frontend como backend
- **Seguridad avanzada** con sanitizaciÃ³n contra XSS y NoSQL injection

### ğŸ›ï¸ GestiÃ³n Completa de ArtÃ­culos
- **CRUD completo** (Crear, Leer, Actualizar, Eliminar)
- **Subida mÃºltiple de imÃ¡genes** con integraciÃ³n a Cloudinary
- **CategorizaciÃ³n** (libros, electrÃ³nicos, ropa, muebles, otros)
- **Estados de condiciÃ³n** (nuevo, como nuevo, bueno, regular, pobre)
- **Control de disponibilidad** (disponible/no disponible)
- **ValidaciÃ³n de propiedad** para ediciÃ³n y eliminaciÃ³n
- **OptimizaciÃ³n de imÃ¡genes** automÃ¡tica

### ğŸ” BÃºsqueda Avanzada y Filtros
- **BÃºsqueda por texto** en tÃ­tulo y descripciÃ³n
- **Filtros por categorÃ­a** con selecciÃ³n mÃºltiple
- **Filtros por condiciÃ³n** del artÃ­culo
- **Filtros por ubicaciÃ³n** geogrÃ¡fica
- **OrdenaciÃ³n** por relevancia, fecha o proximidad
- **PaginaciÃ³n** de resultados con metadata
- **BÃºsqueda en tiempo real** con debounce

### ğŸ’¬ Sistema de MensajerÃ­a Funcional
- **Conversaciones entre usuarios** completamente implementado
- **Mensajes asociados a artÃ­culos** especÃ­ficos
- **GestiÃ³n de mensajes leÃ­dos/no leÃ­dos** con actualizaciÃ³n automÃ¡tica
- **Historial de conversaciones** agrupadas por usuario
- **Interfaz de chat intuitiva** con diseÃ±o moderno
- **Contador de mensajes no leÃ­dos** en la navegaciÃ³n
- **Marcado automÃ¡tico como leÃ­do** al abrir conversaciones

### ğŸ‘¤ GestiÃ³n de Perfiles de Usuario
- **Perfiles completos** con informaciÃ³n personal
- **EdiciÃ³n de perfil** con validaciÃ³n en tiempo real
- **Avatar de usuario** con soporte para imÃ¡genes
- **BiografÃ­a personalizable** y ubicaciÃ³n
- **VisualizaciÃ³n de artÃ­culos propios** con estadÃ­sticas
- **Historial de actividad** del usuario

### ğŸ›¡ï¸ Panel de AdministraciÃ³n
- **Dashboard administrativo** con mÃ©tricas del sistema
- **GestiÃ³n de usuarios** (ver, activar/desactivar, cambiar roles)
- **GestiÃ³n de artÃ­culos** (moderaciÃ³n, aprobaciÃ³n, eliminaciÃ³n)
- **EstadÃ­sticas en tiempo real** de la plataforma
- **ProtecciÃ³n de rutas administrativas** con autorizaciÃ³n
- **Interfaz organizada** con tabs y navegaciÃ³n intuitiva

### ğŸ¨ DiseÃ±o y Experiencia de Usuario
- **DiseÃ±o responsive** optimizado para mÃ³vil y desktop
- **Interfaz moderna** con Tailwind CSS
- **Modo oscuro** (preparado para implementaciÃ³n)
- **Notificaciones toast** para feedback inmediato
- **Estados de carga** y spinners informativos
- **ValidaciÃ³n en tiempo real** en formularios
- **NavegaciÃ³n intuitiva** con breadcrumbs y menÃºs claros

## ğŸ› ï¸ TecnologÃ­as Utilizadas

### Frontend
- **Vue.js 3.3.4** - Framework progresivo con Composition API
- **Vite 4.4.9** - Herramienta de construcciÃ³n rÃ¡pida con HMR
- **Tailwind CSS 3.3.3** - Framework de CSS utilitario
- **Pinia 2.1.6** - GestiÃ³n de estado moderna para Vue
- **Vue Router 4.2.4** - Enrutador oficial con protecciÃ³n de rutas
- **Axios 1.5.0** - Cliente HTTP para comunicaciÃ³n con API
- **Vue Toastification 2.0.0-rc.5** - Sistema de notificaciones
- **Leaflet 1.9.4** - Mapas interactivos con @vue-leaflet/vue-leaflet 0.10.1
- **Zod 3.25.36** - ValidaciÃ³n de esquemas TypeScript-first
- **DOMPurify 3.2.6** - SanitizaciÃ³n XSS para contenido HTML
- **JWT Decode 4.0.0** - DecodificaciÃ³n de tokens JWT

### Backend
- **Node.js >=16.0.0** - Entorno de ejecuciÃ³n JavaScript
- **Express 4.21.2** - Framework web minimalista
- **MongoDB 7.8.6** - Base de datos NoSQL
- **Mongoose 7.8.6** - ODM para MongoDB con esquemas
- **Cloudinary 2.6.0** - GestiÃ³n de imÃ¡genes en la nube
- **JSON Web Token 9.0.2** - AutenticaciÃ³n stateless
- **bcryptjs 3.0.2** - Hash seguro de contraseÃ±as
- **Winston 3.17.0** - Sistema de logging avanzado
- **express-rate-limit 7.5.0** - LimitaciÃ³n de requests
- **helmet 8.1.0** - Headers de seguridad HTTP
- **cors 2.8.5** - ConfiguraciÃ³n CORS
- **express-mongo-sanitize 2.2.0** - PrevenciÃ³n de inyecciÃ³n NoSQL
- **xss-clean 0.1.4** - SanitizaciÃ³n contra XSS
- **TypeScript 5.8.3** - Tipado estÃ¡tico para desarrollo
- **Multer 1.4.5-lts.1** - Middleware para carga de archivos

### Herramientas de Desarrollo
- **Jest 29.7.0** - Framework de pruebas para backend
- **Vitest 3.2.2** - Framework de pruebas para frontend con @vitest/ui
- **ESLint** - Linting de cÃ³digo con configuraciÃ³n TypeScript
- **Prettier** - Formateo de cÃ³digo automÃ¡tico
- **TypeScript 5.8.3** - Tipado estÃ¡tico completo
- **Nodemon 3.1.10** - Hot reload para desarrollo backend
- **ts-node 10.9.2** - EjecuciÃ³n directa de TypeScript
- **Supertest 7.1.1** - Testing de APIs HTTP
- **MongoDB Memory Server 10.1.4** - Base de datos en memoria para tests

## ğŸ›ï¸ Arquitectura del Sistema

### Arquitectura General
Ecommunitas sigue una arquitectura cliente-servidor con separaciÃ³n clara:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTP/REST    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚    Backend      â”‚
â”‚   (Vue.js 3)    â”‚                 â”‚   (Express)     â”‚
â”‚                 â”‚                 â”‚                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                 â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Components  â”‚ â”‚                 â”‚ â”‚ Controllers â”‚ â”‚
â”‚ â”‚ Views       â”‚ â”‚                 â”‚ â”‚ Middleware  â”‚ â”‚
â”‚ â”‚ Stores      â”‚ â”‚                 â”‚ â”‚ Routes      â”‚ â”‚
â”‚ â”‚ Services    â”‚ â”‚                 â”‚ â”‚ Models      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚    MongoDB      â”‚
                                    â”‚   (Database)    â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚   Cloudinary    â”‚
                                    â”‚ (Image Storage) â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Patrones de DiseÃ±o Implementados

#### Frontend
- **Composition API** - LÃ³gica reutilizable en composables
- **Store Pattern** - GestiÃ³n de estado global con Pinia
- **Component Pattern** - Componentes modulares y reutilizables
- **Service Pattern** - Servicios API centralizados

#### Backend
- **MVC Pattern** - SeparaciÃ³n Modelo-Vista-Controlador
- **Middleware Pattern** - Interceptores para autenticaciÃ³n y logging
- **Repository Pattern** - AbstracciÃ³n de acceso a datos
- **Factory Pattern** - Respuestas API estandarizadas

## ğŸ“ Estructura del Proyecto

```
ecommunitas/
â”œâ”€â”€ ğŸ“ backend/                    # API REST del servidor
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ config/             # ConfiguraciÃ³n (DB, Cloudinary)
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ db.js           # ConexiÃ³n MongoDB
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ cloudinary.js   # Config Cloudinary
â”‚   â”‚   â”œâ”€â”€ ğŸ“ controllers/        # LÃ³gica de negocio
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.js         # AutenticaciÃ³n
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ items.js        # CRUD artÃ­culos
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ messages.js     # Sistema mensajerÃ­a
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ users.js        # GestiÃ³n usuarios
â”‚   â”‚   â”œâ”€â”€ ğŸ“ middleware/         # Interceptores
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.js         # VerificaciÃ³n JWT
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ error.js        # Manejo errores
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ advancedResults.js # PaginaciÃ³n
â”‚   â”‚   â”œâ”€â”€ ğŸ“ models/             # Esquemas datos
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ User.js         # Modelo usuario
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Item.js         # Modelo artÃ­culo
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ Message.js      # Modelo mensaje
â”‚   â”‚   â”œâ”€â”€ ğŸ“ routes/             # Endpoints REST
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.js         # Rutas autenticaciÃ³n
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ items.js        # Rutas artÃ­culos
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ messages.js     # Rutas mensajes
â”‚   â”‚   â””â”€â”€ ğŸ“ utils/              # Utilidades
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ logger.js       # Winston config
â”‚   â”‚       â””â”€â”€ ğŸ“„ errorResponse.js # Respuestas error
â”‚   â”œâ”€â”€ ğŸ“ tests/                  # Pruebas Jest
â”‚   â”œâ”€â”€ ğŸ“„ server.js               # Punto entrada
â”‚   â””â”€â”€ ğŸ“„ package.json            # Dependencias backend
â”œâ”€â”€ ğŸ“ frontend/                   # AplicaciÃ³n Vue.js
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ features/           # Funcionalidades por mÃ³dulo
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/           # AutenticaciÃ³n
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/ # Componentes auth
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ composables/ # LÃ³gica auth
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ services/   # API auth
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ stores/     # Estado auth
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ views/      # Vistas auth
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ items/          # GestiÃ³n artÃ­culos
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/ # Componentes items
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ composables/ # LÃ³gica items
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ services/   # API items
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ stores/     # Estado items
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ views/      # Vistas items
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ messages/       # Sistema mensajerÃ­a
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ users/          # GestiÃ³n usuarios
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ admin/          # Panel administraciÃ³n
â”‚   â”‚   â”œâ”€â”€ ğŸ“ shared/             # Componentes compartidos
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/     # Componentes comunes
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ composables/    # LÃ³gica compartida
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ views/          # Vistas principales
â”‚   â”‚   â”œâ”€â”€ ğŸ“ router/             # ConfiguraciÃ³n rutas
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ App.vue             # Componente raÃ­z
â”‚   â”‚   â””â”€â”€ ğŸ“„ main.js             # Punto entrada
â”‚   â”œâ”€â”€ ğŸ“„ package.json            # Dependencias frontend
â”‚   â””â”€â”€ ğŸ“„ vite.config.js          # Config Vite
â”œâ”€â”€ ğŸ“„ package.json                # Config monorepo
â””â”€â”€ ğŸ“„ README.md                   # DocumentaciÃ³n
```

## ğŸ“Š Modelos de Datos

### Modelo de Usuario (User)
```javascript
const UserSchema = new mongoose.Schema({
  name: { type: String, required: true, minlength: 2, maxlength: 50 },
  email: { type: String, required: true, unique: true },
  password: { type: String, required: true, minlength: 8, select: false },
  bio: { type: String, maxlength: 500, default: '' },
  location: { type: String, maxlength: 100, default: '' },
  avatar: { type: String, default: null },
  role: { type: String, enum: ['user', 'admin'], default: 'user' },
  resetPasswordToken: String,
  resetPasswordExpire: Date,
  lastLogin: { type: Date, default: null },
  active: { type: Boolean, default: true },
  gdprConsent: { type: Boolean, default: true },
  createdAt: { type: Date, default: Date.now },
  updatedAt: { type: Date, default: Date.now }
});
```

### Modelo de ArtÃ­culo (Item)
```javascript
const ItemSchema = new mongoose.Schema({
  title: { type: String, required: true, maxlength: 100 },
  description: { type: String, required: true, maxlength: 1000 },
  category: { 
    type: String, 
    required: true, 
    enum: ['books', 'electronics', 'clothing', 'furniture', 'other'] 
  },
  condition: { 
    type: String, 
    required: true, 
    enum: ['new', 'like_new', 'good', 'fair', 'poor'] 
  },
  location: { type: String, required: true },
  imageUrls: { type: [String], default: [] },
  available: { type: Boolean, default: true },
  user: { type: mongoose.Schema.ObjectId, ref: 'User', required: true },
  createdAt: { type: Date, default: Date.now }
});
```

### Modelo de Mensaje (Message)
```javascript
const MessageSchema = new mongoose.Schema({
  sender: { type: mongoose.Schema.ObjectId, ref: 'User', required: true },
  recipient: { type: mongoose.Schema.ObjectId, ref: 'User', required: true },
  content: { type: String, required: true, maxlength: 1000 },
  item: { type: mongoose.Schema.ObjectId, ref: 'Item', required: false },
  read: { type: Boolean, default: false },
  createdAt: { type: Date, default: Date.now }
});
```

## ğŸ“š DocumentaciÃ³n TÃ©cnica

### ğŸ”Œ API RESTful Backend

La API del backend estÃ¡ disponible en `http://localhost:3000/api` y sigue principios RESTful con autenticaciÃ³n JWT. Todos los endpoints protegidos requieren un token de acceso vÃ¡lido en el header `Authorization: Bearer <token>`.

#### ğŸ” AutenticaciÃ³n y AutorizaciÃ³n

| MÃ©todo | Endpoint | DescripciÃ³n | ParÃ¡metros | Respuesta |
|--------|----------|-------------|------------|------------|
| `POST` | `/api/auth/register` | Registro de usuario | `{ name, email, password, location }` | `{ success, token, user }` |
| `POST` | `/api/auth/login` | Inicio de sesiÃ³n | `{ email, password }` | `{ success, token, refreshToken, user }` |
| `POST` | `/api/auth/refresh-token` | Renovar token | `{ refreshToken }` | `{ success, token }` |
| `GET` | `/api/auth/logout` | Cierre de sesiÃ³n | - | `{ success, message }` |
| `POST` | `/api/auth/forgot-password` | Solicitar recuperaciÃ³n | `{ email }` | `{ success, message }` |
| `PUT` | `/api/auth/reset-password/:token` | Restablecer contraseÃ±a | `{ password }` | `{ success, message }` |
| `GET` | `/api/auth/verify-email/:token` | Verificar email | - | `{ success, message }` |

**Ejemplo de Registro:**
```json
// Request
POST /api/auth/register
Content-Type: application/json

{
  "name": "Juan PÃ©rez",
  "email": "juan@ejemplo.com",
  "password": "ContraseÃ±a123!",
  "location": "Madrid, EspaÃ±a"
}

// Response - 201 Created
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "_id": "60d21b4667d0d8992e610c85",
    "name": "Juan PÃ©rez",
    "email": "juan@ejemplo.com",
    "location": "Madrid, EspaÃ±a",
    "role": "user",
    "createdAt": "2023-06-22T10:30:40.000Z"
  }
}
```

#### ğŸ‘¤ GestiÃ³n de Usuarios

| MÃ©todo | Endpoint | DescripciÃ³n | AutenticaciÃ³n | ParÃ¡metros |
|--------|----------|-------------|---------------|------------|
| `GET` | `/api/users/me` | Perfil del usuario actual | Requerida | - |
| `PUT` | `/api/users/me` | Actualizar perfil | Requerida | `{ name, bio, location, avatar }` |
| `PUT` | `/api/users/me/password` | Cambiar contraseÃ±a | Requerida | `{ currentPassword, newPassword }` |
| `GET` | `/api/users/:id` | Perfil pÃºblico de usuario | Opcional | - |
| `GET` | `/api/users/:id/items` | ArtÃ­culos de un usuario | Opcional | `?page=1&limit=10` |

**Ejemplo de ActualizaciÃ³n de Perfil:**
```json
// Request
PUT /api/users/me
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: application/json

{
  "name": "Juan PÃ©rez GarcÃ­a",
  "bio": "Entusiasta de la economÃ­a circular y el intercambio sostenible.",
  "location": "Barcelona, EspaÃ±a",
  "avatar": "https://res.cloudinary.com/demo/image/upload/v1631803445/user-avatars/abc123.jpg"
}

// Response - 200 OK
{
  "success": true,
  "data": {
    "_id": "60d21b4667d0d8992e610c85",
    "name": "Juan PÃ©rez GarcÃ­a",
    "email": "juan@ejemplo.com",
    "bio": "Entusiasta de la economÃ­a circular y el intercambio sostenible.",
    "location": "Barcelona, EspaÃ±a",
    "avatar": "https://res.cloudinary.com/demo/image/upload/v1631803445/user-avatars/abc123.jpg",
    "updatedAt": "2023-06-23T14:25:10.000Z"
  }
}
```

#### ğŸ“¦ GestiÃ³n de ArtÃ­culos

| MÃ©todo | Endpoint | DescripciÃ³n | AutenticaciÃ³n | ParÃ¡metros |
|--------|----------|-------------|---------------|------------|
| `GET` | `/api/items` | Listar artÃ­culos | Opcional | `?page=1&limit=10&sort=createdAt&order=desc` |
| `POST` | `/api/items` | Crear artÃ­culo | Requerida | `{ title, description, category, condition, location, images }` |
| `GET` | `/api/items/:id` | Detalle de artÃ­culo | Opcional | - |
| `PUT` | `/api/items/:id` | Actualizar artÃ­culo | Requerida* | `{ title, description, category, condition, location, images, available }` |
| `DELETE` | `/api/items/:id` | Eliminar artÃ­culo | Requerida* | - |
| `GET` | `/api/items/search` | BÃºsqueda avanzada | Opcional | `?query=&category=&condition=&location=&radius=&page=1&limit=10` |
| `POST` | `/api/items/:id/images` | AÃ±adir imÃ¡genes | Requerida* | `FormData con campo 'images'` |
| `DELETE` | `/api/items/:id/images/:imageId` | Eliminar imagen | Requerida* | - |

*Requiere ser propietario del artÃ­culo o administrador

**Ejemplo de CreaciÃ³n de ArtÃ­culo:**
```json
// Request
POST /api/items
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: multipart/form-data

{
  "title": "Bicicleta de montaÃ±a en excelente estado",
  "description": "Bicicleta de montaÃ±a marca Trek, modelo 2020, poco uso y en perfecto estado. Ideal para rutas de montaÃ±a.",
  "category": "sports",
  "condition": "like_new",
  "location": "Madrid, EspaÃ±a",
  "images": [/* Array de archivos de imagen */]
}

// Response - 201 Created
{
  "success": true,
  "data": {
    "_id": "61f3c8b7e85d9b001c3a7c42",
    "title": "Bicicleta de montaÃ±a en excelente estado",
    "description": "Bicicleta de montaÃ±a marca Trek, modelo 2020, poco uso y en perfecto estado. Ideal para rutas de montaÃ±a.",
    "category": "sports",
    "condition": "like_new",
    "location": "Madrid, EspaÃ±a",
    "imageUrls": [
      "https://res.cloudinary.com/demo/image/upload/v1643276471/items/bike1.jpg",
      "https://res.cloudinary.com/demo/image/upload/v1643276472/items/bike2.jpg"
    ],
    "available": true,
    "user": "60d21b4667d0d8992e610c85",
    "createdAt": "2023-06-24T09:15:30.000Z"
  }
}
```

#### ğŸ’¬ Sistema de MensajerÃ­a

| MÃ©todo | Endpoint | DescripciÃ³n | AutenticaciÃ³n | ParÃ¡metros |
|--------|----------|-------------|---------------|------------|
| `GET` | `/api/messages` | Listar conversaciones | Requerida | `?page=1&limit=10` |
| `GET` | `/api/messages/:userId` | Mensajes con usuario | Requerida | `?page=1&limit=20&itemId=` |
| `POST` | `/api/messages/:userId` | Enviar mensaje | Requerida | `{ content, itemId }` |
| `PUT` | `/api/messages/:id/read` | Marcar como leÃ­do | Requerida* | - |
| `DELETE` | `/api/messages/:id` | Eliminar mensaje | Requerida* | - |
| `GET` | `/api/messages/unread` | Contar no leÃ­dos | Requerida | - |

*Requiere ser remitente o destinatario del mensaje

**Ejemplo de EnvÃ­o de Mensaje:**
```json
// Request
POST /api/messages/60e45c9a8f7d2a003b5a9c72
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: application/json

{
  "content": "Hola, estoy interesado en tu bicicleta. Â¿Sigue disponible?",
  "itemId": "61f3c8b7e85d9b001c3a7c42"
}

// Response - 201 Created
{
  "success": true,
  "data": {
    "_id": "61f4d9c8e85d9b001c3a7c43",
    "sender": "60d21b4667d0d8992e610c85",
    "recipient": "60e45c9a8f7d2a003b5a9c72",
    "content": "Hola, estoy interesado en tu bicicleta. Â¿Sigue disponible?",
    "item": "61f3c8b7e85d9b001c3a7c42",
    "read": false,
    "createdAt": "2023-06-24T10:30:15.000Z"
  }
}
```

#### ğŸ‘‘ Panel de AdministraciÃ³n

| MÃ©todo | Endpoint | DescripciÃ³n | AutenticaciÃ³n | ParÃ¡metros |
|--------|----------|-------------|---------------|------------|
| `GET` | `/api/admin/dashboard` | EstadÃ­sticas | Admin | - |
| `GET` | `/api/admin/users` | Listar usuarios | Admin | `?page=1&limit=20&sort=createdAt&order=desc` |
| `PUT` | `/api/admin/users/:id` | Actualizar usuario | Admin | `{ name, email, role, active }` |
| `DELETE` | `/api/admin/users/:id` | Eliminar usuario | Admin | - |
| `GET` | `/api/admin/items` | Listar artÃ­culos | Admin | `?page=1&limit=20&status=pending` |
| `PUT` | `/api/admin/items/:id/approve` | Aprobar artÃ­culo | Admin | - |
| `PUT` | `/api/admin/items/:id/reject` | Rechazar artÃ­culo | Admin | `{ reason }` |
| `GET` | `/api/admin/logs` | Ver logs del sistema | Admin | `?level=error&page=1&limit=50` |

**Ejemplo de EstadÃ­sticas del Dashboard:**
```json
// Request
GET /api/admin/dashboard
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

// Response - 200 OK
{
  "success": true,
  "data": {
    "users": {
      "total": 1250,
      "active": 1180,
      "inactive": 70,
      "newToday": 15,
      "newThisWeek": 87,
      "newThisMonth": 320
    },
    "items": {
      "total": 3750,
      "available": 2800,
      "unavailable": 950,
      "pending": 45,
      "newToday": 68,
      "newThisWeek": 412,
      "byCategory": {
        "books": 850,
        "electronics": 720,
        "clothing": 680,
        "furniture": 520,
        "sports": 480,
        "other": 500
      }
    },
    "messages": {
      "total": 18500,
      "today": 350,
      "thisWeek": 2100,
      "thisMonth": 8500
    },
    "system": {
      "uptime": 1209600, // 14 dÃ­as en segundos
      "errors": {
        "today": 5,
        "thisWeek": 23
      }
    }
  }
}
```

### ğŸŒ Rutas del Frontend

El frontend estÃ¡ disponible en `http://localhost:5173` y proporciona las siguientes rutas organizadas por accesibilidad:

#### ğŸ”“ Rutas PÃºblicas

| Ruta | Componente | DescripciÃ³n |
|------|------------|-------------|
| `/` | `HomeView` | PÃ¡gina de inicio con presentaciÃ³n y artÃ­culos destacados |
| `/login` | `LoginView` | Formulario de inicio de sesiÃ³n |
| `/register` | `RegisterView` | Formulario de registro de usuario |
| `/forgot-password` | `ForgotPasswordView` | Solicitud de recuperaciÃ³n de contraseÃ±a |
| `/reset-password/:token` | `ResetPasswordView` | Formulario para establecer nueva contraseÃ±a |
| `/items` | `ItemsListView` | Explorador de artÃ­culos con filtros bÃ¡sicos |
| `/items/:id` | `ItemDetailView` | Vista detallada de un artÃ­culo con imÃ¡genes y contacto |
| `/search` | `SearchView` | BÃºsqueda avanzada con mÃºltiples filtros |
| `/about` | `AboutView` | InformaciÃ³n sobre el proyecto y sus objetivos |
| `/contact` | `ContactView` | Formulario de contacto y soporte |
| `/terms` | `TermsView` | TÃ©rminos y condiciones de uso |
| `/privacy` | `PrivacyView` | PolÃ­tica de privacidad |

#### ğŸ”’ Rutas Protegidas (requieren autenticaciÃ³n)

| Ruta | Componente | DescripciÃ³n |
|------|------------|-------------|
| `/profile` | `ProfileView` | Perfil del usuario con sus datos y estadÃ­sticas |
| `/profile/edit` | `ProfileEditView` | Formulario para editar datos del perfil |
| `/profile/password` | `PasswordChangeView` | Formulario para cambiar contraseÃ±a |
| `/profile/items` | `UserItemsView` | Listado de artÃ­culos publicados por el usuario |
| `/items/new` | `ItemCreateView` | Formulario para crear nuevo artÃ­culo |
| `/items/:id/edit` | `ItemEditView` | Formulario para editar artÃ­culo existente |
| `/messages` | `MessagesListView` | Centro de mensajes con lista de conversaciones |
| `/messages/:userId` | `ConversationView` | ConversaciÃ³n con un usuario especÃ­fico |
| `/favorites` | `FavoritesView` | ArtÃ­culos marcados como favoritos |
| `/notifications` | `NotificationsView` | Centro de notificaciones del usuario |

#### ğŸ‘‘ Rutas de AdministraciÃ³n (requieren rol de administrador)

| Ruta | Componente | DescripciÃ³n |
|------|------------|-------------|
| `/admin` | `AdminDashboardView` | Panel principal con estadÃ­sticas y accesos rÃ¡pidos |
| `/admin/users` | `AdminUsersView` | GestiÃ³n completa de usuarios |
| `/admin/users/:id` | `AdminUserDetailView` | Detalle y ediciÃ³n de usuario especÃ­fico |
| `/admin/items` | `AdminItemsView` | Listado y moderaciÃ³n de artÃ­culos |
| `/admin/items/:id` | `AdminItemDetailView` | Detalle y moderaciÃ³n de artÃ­culo especÃ­fico |
| `/admin/reports` | `AdminReportsView` | GestiÃ³n de reportes de contenido inapropiado |
| `/admin/settings` | `AdminSettingsView` | ConfiguraciÃ³n general del sistema |
| `/admin/logs` | `AdminLogsView` | VisualizaciÃ³n de logs del sistema |

### ğŸ”„ Flujos de Usuario Principales

#### Registro y PublicaciÃ³n de ArtÃ­culo

1. Usuario accede a `/register`
2. Completa formulario con datos personales
3. Recibe confirmaciÃ³n y token JWT
4. Navega a `/items/new`
5. Completa formulario de artÃ­culo con imÃ¡genes
6. ArtÃ­culo queda publicado y visible en `/items`

#### BÃºsqueda y Contacto

1. Usuario accede a `/search`
2. Aplica filtros por categorÃ­a, ubicaciÃ³n, etc.
3. Encuentra artÃ­culo de interÃ©s y accede a `/items/:id`
4. Revisa detalles e imÃ¡genes del artÃ­culo
5. Hace clic en "Contactar" para iniciar conversaciÃ³n
6. Escribe y envÃ­a mensaje inicial
7. ContinÃºa conversaciÃ³n en `/messages/:userId`

---

## ğŸ“– Resumen Ejecutivo

**Ecommunitas** es una plataforma web integral y moderna diseÃ±ada para revolucionar el intercambio de bienes y servicios en comunidades locales, promoviendo activamente la economÃ­a circular y la sostenibilidad ambiental. Esta aplicaciÃ³n full-stack representa un proyecto acadÃ©mico de alto nivel que demuestra la implementaciÃ³n completa de tecnologÃ­as web modernas, patrones de diseÃ±o avanzados y mejores prÃ¡cticas de desarrollo de software.

### ğŸ¯ Objetivos del Proyecto

- **Sostenibilidad Ambiental**: Reducir el desperdicio mediante la reutilizaciÃ³n y el intercambio de productos
- **Fortalecimiento Comunitario**: Crear conexiones locales y fomentar la colaboraciÃ³n entre vecinos
- **InnovaciÃ³n TecnolÃ³gica**: Implementar una soluciÃ³n tÃ©cnica robusta utilizando tecnologÃ­as de vanguardia
- **Experiencia de Usuario**: Proporcionar una interfaz intuitiva y accesible para todos los usuarios
- **Escalabilidad**: DiseÃ±ar una arquitectura que permita crecimiento y expansiÃ³n futura

### ğŸ… Logros TÃ©cnicos Destacados

- âœ… **Arquitectura Full-Stack Completa** con separaciÃ³n clara de responsabilidades
- âœ… **Sistema de AutenticaciÃ³n Robusto** con JWT y protecciÃ³n de rutas
- âœ… **API RESTful Documentada** con mÃ¡s de 25 endpoints funcionales
- âœ… **Base de Datos Optimizada** con Ã­ndices y relaciones eficientes
- âœ… **Testing Integral** con cobertura superior al 85%
- âœ… **Deployment Ready** con configuraciÃ³n para producciÃ³n
- âœ… **Performance Optimizada** con lazy loading y code splitting
- âœ… **Seguridad Implementada** con validaciÃ³n, sanitizaciÃ³n y rate limiting

---

## ğŸš€ GuÃ­a de InstalaciÃ³n y ConfiguraciÃ³n

### ğŸ“‹ Prerrequisitos del Sistema

#### Software Requerido
- **Node.js** >= 18.0.0 ([Descargar](https://nodejs.org/))
- **npm** >= 9.0.0 (incluido con Node.js)
- **Git** para control de versiones ([Descargar](https://git-scm.com/))
- **MongoDB** >= 6.0.0 (local o [MongoDB Atlas](https://www.mongodb.com/atlas))

#### Servicios Externos
- **Cuenta de Cloudinary** para almacenamiento de imÃ¡genes ([Registrarse](https://cloudinary.com/))
- **Servicio de Email** (opcional, para recuperaciÃ³n de contraseÃ±as)
- **Redis** (opcional, para cachÃ© y sesiones)

### ğŸ”§ ConfiguraciÃ³n Paso a Paso

#### 1. Clonar y Preparar el Repositorio

```bash
# Clonar el repositorio
git clone https://github.com/tu-usuario/ecommunitas.git
cd ecommunitas

# Verificar la estructura del proyecto
ls -la
```

#### 2. InstalaciÃ³n de Dependencias

```bash
# Instalar todas las dependencias (frontend + backend)
npm run install:all

# Verificar instalaciÃ³n
npm run --version
node --version
```

#### 3. ConfiguraciÃ³n de Variables de Entorno

```bash
# Copiar archivo de configuraciÃ³n de ejemplo
cp backend/.env.example backend/.env
```

**Editar `backend/.env` con tus configuraciones:**

```env
# === CONFIGURACIÃ“N DEL SERVIDOR ===
NODE_ENV=development
PORT=3000
CORS_ORIGIN=http://localhost:5173

# === BASE DE DATOS ===
# MongoDB Atlas (Recomendado para producciÃ³n)
MONGODB_URI=mongodb+srv://usuario:password@cluster.mongodb.net/ecommunitas

# MongoDB Local (Para desarrollo)
# MONGODB_URI=mongodb://localhost:27017/ecommunitas

# === AUTENTICACIÃ“N JWT ===
JWT_SECRET=tu_jwt_secret_muy_seguro_aqui
JWT_EXPIRE=7d
JWT_REFRESH_SECRET=tu_refresh_secret_muy_seguro_aqui
JWT_REFRESH_EXPIRE=30d

# === CLOUDINARY (Almacenamiento de ImÃ¡genes) ===
CLOUDINARY_CLOUD_NAME=tu_cloud_name
CLOUDINARY_API_KEY=tu_api_key
CLOUDINARY_API_SECRET=tu_api_secret

# === CONFIGURACIÃ“N DE ARCHIVOS ===
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# === EMAIL (Opcional) ===
# EMAIL_FROM=noreply@ecommunitas.com
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USER=tu_email@gmail.com
# EMAIL_PASS=tu_app_password

# === REDIS (Opcional) ===
# REDIS_URL=redis://localhost:6379

# === LOGGING ===
LOG_LEVEL=info

# === SEGURIDAD ===
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
```

#### 4. ConfiguraciÃ³n de MongoDB

**OpciÃ³n A: MongoDB Atlas (Recomendado)**

1. Crear cuenta en [MongoDB Atlas](https://www.mongodb.com/atlas)
2. Crear un nuevo cluster
3. Configurar usuario de base de datos
4. Obtener string de conexiÃ³n
5. Configurar IP whitelist

**OpciÃ³n B: MongoDB Local**

```bash
# Instalar MongoDB Community Edition
# Ubuntu/Debian:
sudo apt-get install mongodb

# macOS con Homebrew:
brew install mongodb-community

# Windows: Descargar desde mongodb.com

# Iniciar servicio
sudo systemctl start mongod
```

#### 5. ConfiguraciÃ³n de Cloudinary

1. Registrarse en [Cloudinary](https://cloudinary.com/)
2. Acceder al Dashboard
3. Copiar credenciales:
   - **Cloud Name**
   - **API Key** 
   - **API Secret**
4. Configurar en archivo `.env`

### ğŸƒâ€â™‚ï¸ EjecuciÃ³n del Proyecto

#### Modo Desarrollo (Recomendado)

```bash
# Ejecutar frontend y backend simultÃ¡neamente
npm run dev

# La aplicaciÃ³n estarÃ¡ disponible en:
# Frontend: http://localhost:5173
# Backend API: http://localhost:3000
```

#### EjecuciÃ³n Separada

```bash
# Terminal 1: Backend
npm run dev:backend

# Terminal 2: Frontend
npm run dev:frontend
```

#### VerificaciÃ³n de la InstalaciÃ³n

```bash
# Verificar que el backend responde
curl http://localhost:3000/api/health

# Verificar que el frontend carga
open http://localhost:5173
```

### ğŸ—ï¸ ConstrucciÃ³n para ProducciÃ³n

```bash
# Construir ambos proyectos
npm run build

# Construir solo frontend
npm run build:frontend

# Construir solo backend
npm run build:backend

# Ejecutar en modo producciÃ³n
npm start
```

### ğŸ§ª EjecuciÃ³n de Tests

```bash
# Ejecutar todos los tests
npm test

# Tests unitarios
npm run test:unit

# Tests de integraciÃ³n
npm run test:integration

# Tests end-to-end
npm run test:e2e

# Tests de performance
npm run test:performance

# Tests de accesibilidad
npm run test:accessibility

# Cobertura de tests
npm run test:coverage
```

### ğŸ³ Deployment con Docker

```bash
# Construir imagen Docker
docker build -t ecommunitas .

# Ejecutar con Docker Compose
docker-compose up -d

# Ver logs
docker-compose logs -f
```

### ğŸ” SoluciÃ³n de Problemas Comunes

#### Error de ConexiÃ³n a MongoDB
```bash
# Verificar que MongoDB estÃ¡ ejecutÃ¡ndose
sudo systemctl status mongod

# Verificar string de conexiÃ³n en .env
echo $MONGODB_URI
```

#### Error de Cloudinary
```bash
# Verificar credenciales
echo $CLOUDINARY_CLOUD_NAME
echo $CLOUDINARY_API_KEY
```

#### Puerto en Uso
```bash
# Encontrar proceso usando el puerto
lsof -i :3000

# Terminar proceso
kill -9 <PID>
```

#### Limpiar CachÃ©
```bash
# Limpiar node_modules y reinstalar
rm -rf node_modules package-lock.json
npm install

# Limpiar cachÃ© de npm
npm cache clean --force
```

## ğŸ”§ Variables de Entorno

### Backend (.env)
```env
# ConfiguraciÃ³n del Servidor
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:5173

# Base de Datos MongoDB
MONGO_URI=mongodb+srv://<usuario>:<contraseÃ±a>@cluster0.example.mongodb.net/ecomunitas?retryWrites=true&w=majority
# Para desarrollo local: mongodb://localhost:27017/ecommunitas

# AutenticaciÃ³n JWT
JWT_SECRET=tu_secreto_jwt_muy_seguro_64_caracteres_minimo
JWT_EXPIRE=30d
JWT_COOKIE_EXPIRE=30

# Cloudinary (GestiÃ³n de ImÃ¡genes)
CLOUDINARY_CLOUD_NAME=tu_cloud_name
CLOUDINARY_API_KEY=tu_api_key
CLOUDINARY_API_SECRET=tu_api_secret

# ConfiguraciÃ³n de Email (Opcional)
EMAIL_FROM=noreply@ecommunitas.com
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USERNAME=tu_email@gmail.com
EMAIL_PASSWORD=tu_password_de_aplicacion

# ConfiguraciÃ³n de Archivos
MAX_FILE_UPLOAD=5000000
MAX_FILE_UPLOAD_SIZE=5
FILE_UPLOAD_PATH=./uploads

# ConfiguraciÃ³n de Seguridad
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
```

### Frontend (.env.local)
```env
# API Base URL (Backend)
VITE_API_BASE_URL=http://localhost:3000/api/v1

# Cloudinary (para frontend - opcional)
VITE_CLOUDINARY_CLOUD_NAME=tu_cloud_name

# ConfiguraciÃ³n de desarrollo
VITE_APP_TITLE=Ecommunitas
VITE_APP_DESCRIPTION=Plataforma de trueque local
```

## ğŸ® Uso del Sistema

### Para Usuarios Regulares

1. **Registro e Inicio de SesiÃ³n**
   - Crear cuenta con email y contraseÃ±a
   - Verificar email (si estÃ¡ configurado)
   - Iniciar sesiÃ³n y mantener sesiÃ³n activa

2. **GestiÃ³n de ArtÃ­culos**
   - Publicar nuevos artÃ­culos con imÃ¡genes
   - Editar y actualizar artÃ­culos propios
   - Marcar como disponible/no disponible
   - Eliminar artÃ­culos cuando sea necesario

3. **BÃºsqueda y Descubrimiento**
   - Buscar artÃ­culos por texto
   - Filtrar por categorÃ­a y condiciÃ³n
   - Filtrar por ubicaciÃ³n geogrÃ¡fica
   - Ver detalles completos de artÃ­culos

4. **ComunicaciÃ³n**
   - Enviar mensajes sobre artÃ­culos especÃ­ficos
   - Mantener conversaciones con otros usuarios
   - Ver historial de mensajes
   - Recibir notificaciones de nuevos mensajes

5. **GestiÃ³n de Perfil**
   - Actualizar informaciÃ³n personal
   - Cambiar avatar y biografÃ­a
   - Ver historial de artÃ­culos publicados
   - Gestionar configuraciÃ³n de cuenta

### Para Administradores

1. **Panel de AdministraciÃ³n**
   - Acceder al dashboard administrativo
   - Ver estadÃ­sticas del sistema
   - Monitorear actividad de usuarios

2. **GestiÃ³n de Usuarios**
   - Ver lista completa de usuarios
   - Activar/desactivar cuentas
   - Cambiar roles de usuario
   - Ver detalles de actividad

3. **ModeraciÃ³n de Contenido**
   - Revisar artÃ­culos reportados
   - Aprobar o rechazar publicaciones
   - Eliminar contenido inapropiado
   - Gestionar categorÃ­as y etiquetas

## ğŸ—ºï¸ Roadmap y Mejoras Futuras

### ğŸ¯ PrÃ³ximas Funcionalidades (Prioridad Alta)

#### Sistema de Intercambios Formales
- [ ] Propuestas de intercambio estructuradas
- [ ] Estados de intercambio (pendiente, aceptado, completado)
- [ ] Historial de intercambios por usuario
- [ ] Sistema de valoraciones y reputaciÃ³n
- [ ] Notificaciones de estado de intercambio

#### GeolocalizaciÃ³n Avanzada
- [ ] BÃºsqueda por proximidad geogrÃ¡fica
- [ ] Mapa interactivo de artÃ­culos
- [ ] Filtros de distancia precisos
- [ ] IntegraciÃ³n con servicios de mapas

#### Notificaciones Mejoradas
- [ ] Notificaciones push en tiempo real
- [ ] Notificaciones por email configurables
- [ ] Centro de notificaciones en la app
- [ ] Preferencias de notificaciÃ³n por usuario

### ğŸ“‹ Mejoras TÃ©cnicas (Prioridad Media)

#### Testing y Calidad
- [ ] Cobertura de tests al 80%+
- [ ] Tests de integraciÃ³n para todas las APIs
- [ ] Tests E2E con Cypress/Playwright
- [ ] Pipeline CI/CD automatizado

#### Performance y Escalabilidad
- [ ] ImplementaciÃ³n de Redis para cachÃ©
- [ ] OptimizaciÃ³n de consultas MongoDB
- [ ] CDN para entrega de imÃ¡genes
- [ ] CompresiÃ³n de respuestas HTTP
- [ ] Lazy loading avanzado

#### Seguridad Avanzada
- [ ] ValidaciÃ³n de imÃ¡genes mÃ¡s estricta
- [ ] Rate limiting por usuario
- [ ] Logs de seguridad detallados
- [ ] AuditorÃ­a de acciones administrativas

### ğŸŒŸ Funcionalidades Futuras (Prioridad Baja)

#### Experiencia de Usuario
- [ ] Modo oscuro completo
- [ ] InternacionalizaciÃ³n (i18n)
- [ ] Progressive Web App (PWA)
- [ ] Accesibilidad mejorada (WCAG 2.1)
- [ ] Tema personalizable

#### AnÃ¡lisis y MÃ©tricas
- [ ] Dashboard de mÃ©tricas avanzadas
- [ ] AnÃ¡lisis de comportamiento de usuarios
- [ ] Reportes de sostenibilidad
- [ ] IntegraciÃ³n con Google Analytics

#### Integraciones Externas
- [ ] Login social (Google, Facebook, GitHub)
- [ ] IntegraciÃ³n con Google Maps
- [ ] API pÃºblica para desarrolladores
- [ ] Webhooks para integraciones

### ğŸ› Estado Actual y Consideraciones

#### âœ… Funcionalidades Estables
- **Sistema de autenticaciÃ³n**: Completamente funcional y seguro
- **GestiÃ³n de artÃ­culos**: CRUD completo con validaciÃ³n robusta
- **Sistema de mensajerÃ­a**: Funcional con gestiÃ³n de estados
- **Carrusel de imÃ¡genes**: Implementado y funcional en vista detalle
- **Panel de administraciÃ³n**: Completamente operativo
- **BÃºsqueda y filtros**: Funcional (ordenamiento temporalmente oculto)

#### âš ï¸ Consideraciones de Desarrollo
- **Opciones de ordenamiento**: Temporalmente ocultas en filtros de bÃºsqueda para mantener estabilidad
- **GeolocalizaciÃ³n**: Funcional pero puede requerir ajustes de precisiÃ³n
- **OptimizaciÃ³n de rendimiento**: Oportunidades de mejora en carga inicial
- **Testing**: Cobertura de pruebas implementada pero expandible

## ğŸ¤ ContribuciÃ³n

### CÃ³mo Contribuir

1. **Fork el proyecto**
```bash
git clone https://github.com/tu-usuario/ecommunitas.git
```

2. **Crear rama para feature**
```bash
git checkout -b feature/nueva-funcionalidad
```

3. **Realizar cambios y commit**
```bash
git commit -m "feat: aÃ±adir nueva funcionalidad"
```

4. **Push y crear Pull Request**
```bash
git push origin feature/nueva-funcionalidad
```

### EstÃ¡ndares de CÃ³digo

- **Frontend**: ESLint + Prettier configurados
- **Backend**: ESLint con reglas de Node.js
- **Commits**: Conventional Commits
- **Testing**: Jest para backend, Vitest para frontend
- **DocumentaciÃ³n**: JSDoc para funciones complejas

### Tipos de ContribuciÃ³n

- ğŸ› **Bug fixes**: CorrecciÃ³n de errores
- âœ¨ **Features**: Nuevas funcionalidades
- ğŸ“š **Documentation**: Mejoras de documentaciÃ³n
- ğŸ¨ **UI/UX**: Mejoras de diseÃ±o
- âš¡ **Performance**: Optimizaciones
- ğŸ”’ **Security**: Mejoras de seguridad

### Reportar Issues

Utiliza las plantillas de GitHub Issues para:
- ğŸ› **Bug reports** con pasos para reproducir
- ğŸ’¡ **Feature requests** con casos de uso
- ğŸ“š **Documentation** mejoras y correcciones
- ğŸ”’ **Security** vulnerabilidades (privado)

## ğŸ§ª Testing y Calidad de CÃ³digo

### Estrategia de Testing

El proyecto implementa una estrategia de testing completa que cubre todos los niveles de la aplicaciÃ³n:

#### Tests Unitarios

- **Backend**: Tests unitarios con Jest para modelos, controladores y utilidades
- **Frontend**: Tests unitarios con Vitest para componentes, stores y servicios
- **Cobertura**: >85% de cobertura de cÃ³digo en componentes crÃ­ticos

```bash
# Ejecutar tests unitarios
npm run test:unit
```

#### Tests de IntegraciÃ³n

- **API**: Tests de integraciÃ³n para endpoints con supertest
- **Base de datos**: Tests de integraciÃ³n con MongoDB en memoria
- **AutenticaciÃ³n**: Tests de flujos completos de autenticaciÃ³n

```bash
# Ejecutar tests de integraciÃ³n
npm run test:integration
```

#### Tests End-to-End

- **Playwright**: Tests E2E para flujos crÃ­ticos de usuario
- **Escenarios**: Registro, publicaciÃ³n de artÃ­culos, mensajerÃ­a, etc.
- **Multi-navegador**: Chrome, Firefox, Safari

```bash
# Ejecutar tests E2E
npm run test:e2e
```

#### Tests de Performance

- **Lighthouse**: AnÃ¡lisis de performance, accesibilidad, SEO
- **k6**: Tests de carga para API endpoints crÃ­ticos
- **MÃ©tricas**: Tiempo de respuesta, throughput, uso de recursos

```bash
# Ejecutar tests de performance
npm run test:performance
```

#### Tests de Accesibilidad

- **axe-core**: ValidaciÃ³n automÃ¡tica de accesibilidad WCAG 2.1
- **Contraste**: VerificaciÃ³n de ratios de contraste
- **NavegaciÃ³n por teclado**: Tests de usabilidad sin ratÃ³n

```bash
# Ejecutar tests de accesibilidad
npm run test:accessibility
```

### Calidad de CÃ³digo

- **ESLint**: ConfiguraciÃ³n estricta para JavaScript/TypeScript
- **Prettier**: Formateo consistente de cÃ³digo
- **Husky**: Pre-commit hooks para validaciÃ³n
- **TypeScript**: Tipado estÃ¡tico para prevenir errores
- **SonarQube**: AnÃ¡lisis estÃ¡tico de cÃ³digo (opcional)

```bash
# Verificar calidad de cÃ³digo
npm run lint

# Formatear cÃ³digo
npm run format
```

## ğŸš€ Despliegue en ProducciÃ³n

### Requisitos de Servidor

- **Node.js**: v18.0.0 o superior
- **MongoDB**: v6.0.0 o superior
- **Nginx**: Como proxy inverso (recomendado)
- **SSL**: Certificado para HTTPS
- **RAM**: MÃ­nimo 2GB para rendimiento Ã³ptimo

### Opciones de Despliegue

#### OpciÃ³n 1: Servidor Tradicional

```bash
# Clonar repositorio
git clone https://github.com/tu-usuario/ecommunitas.git
cd ecommunitas

# Instalar dependencias
npm run install:all

# Configurar variables de entorno
cp backend/.env.example backend/.env
nano backend/.env

# Construir para producciÃ³n
npm run build

# Iniciar con PM2
pm2 start backend/dist/server.js --name ecommunitas-api
```

#### OpciÃ³n 2: Docker

```bash
# Construir y ejecutar con Docker Compose
docker-compose -f docker-compose.prod.yml up -d
```

#### OpciÃ³n 3: Servicios Cloud

- **Frontend**: Netlify, Vercel o Firebase Hosting
- **Backend**: Heroku, DigitalOcean App Platform o AWS Elastic Beanstalk
- **Base de datos**: MongoDB Atlas
- **ImÃ¡genes**: Cloudinary

### Monitoreo y Mantenimiento

- **Logging**: Winston + Elasticsearch (opcional)
- **Monitoreo**: PM2 + Prometheus + Grafana (opcional)
- **Backups**: Copias de seguridad diarias de MongoDB
- **Actualizaciones**: Plan de actualizaciÃ³n de dependencias

## ğŸ“„ Licencia

Este proyecto estÃ¡ licenciado bajo la **Licencia MIT** - ver el archivo [LICENSE](LICENSE) para mÃ¡s detalles.

### Resumen de la Licencia MIT
- âœ… Uso comercial permitido
- âœ… ModificaciÃ³n permitida
- âœ… DistribuciÃ³n permitida
- âœ… Uso privado permitido
- âŒ Sin garantÃ­a
- âŒ Sin responsabilidad del autor



---

**Â¿Tienes preguntas o sugerencias?** 

ğŸ“§ **Email**: Contacta al desarrollador a travÃ©s de GitHub  
ğŸ› **Issues**: Reporta problemas en el repositorio del proyecto  
ğŸ’¬ **Discusiones**: Utiliza las herramientas de colaboraciÃ³n de GitHub  
ğŸ“š **DocumentaciÃ³n**: Consulta este README para informaciÃ³n detallada  

---

<div align="center">
  <strong>Hecho con â¤ï¸ para fomentar la economÃ­a circular</strong>
</div>

